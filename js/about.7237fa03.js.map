{"version":3,"sources":["webpack:///./src/views/Reservas.vue","webpack:///./src/views/Reservas.vue?3456"],"names":["class","scope","reservacion","reserva","key","status","startDate","substr","devolutionDate","costume","name","cancelar","idReservation","setup","store","usuario","state","url","cargarReservas","fetch","idClient","res","json","datos","value","reservations","console","log","id","method","text","__exports__","render"],"mappings":"2IACSA,MAAM,kB,GACFA,MAAM,O,GACFA,MAAM,a,GACAA,MAAM,kC,EACT,eAQQ,cAPJ,eAMK,WALL,eAA2B,MAAvBC,MAAM,OAAM,UAChB,eAAiC,MAA7BA,MAAM,OAAM,gBAChB,eAAgC,MAA5BA,MAAM,OAAM,eAChB,eAA4B,MAAxBA,MAAM,OAAM,WAChB,eAA6B,MAAzBA,MAAM,OAAM,gB,iEAVpC,eAyBM,MAzBN,EAyBM,CAxBF,eAuBM,MAvBN,EAuBM,CAtBF,eAqBM,MArBN,EAqBM,CApBF,eAmBQ,QAnBR,EAmBQ,CAlBJ,EASA,eAQQ,e,mBAPJ,eAMK,2BANiB,EAAAC,aAAW,SAAtBC,G,wBAAX,eAMK,MAN+BC,IAAKD,GAAO,CAChD,eAA2B,yBAArBA,EAAQE,QAAM,GACpB,eAA2C,yBAArCF,EAAQG,UAAUC,OAAM,UAC9B,eAAgD,yBAA1CJ,EAAQK,eAAeD,OAAM,UACnC,eAAiC,yBAA3BJ,EAAQM,QAAQC,MAAI,GAC1B,eAAmG,WAA/F,eAAyF,UAAjFV,MAAM,iBAAkB,QAAK,mBAAE,EAAAW,SAASR,EAAQS,iBAAgB,WAAQ,Y,0FAa7F,GACXF,KAAK,WACLG,MAFW,WAKP,IAAMC,EAAQ,iBACRZ,EAAc,eAAI,IAElBa,EAAUD,EAAME,MAAMD,QACtBE,EAAMH,EAAME,MAAMC,IAElBC,EAAc,yDAAE,+HAIIC,MAAM,UAAGF,GAAM,eAAeF,EAAQA,QAAQK,UAJlD,cAIRC,EAJQ,gBAKMA,EAAIC,OALV,OAKRC,EALQ,OAOdrB,EAAYsB,MAAQD,EAAME,aAPZ,qDAUdC,QAAQC,IAAR,MAVc,0DAAF,qDAcdhB,EAAO,yDAAI,WAAOiB,GAAP,gGACbF,QAAQC,IAAIC,GADC,kBAGST,MAAM,UAAGF,GAAM,oBAAoBW,EAAG,CACpDC,OAAO,WAJF,cAGHR,EAHG,gBAMWA,EAAIS,OANf,OAMHP,EANG,OAOTG,QAAQC,IAAIJ,GACZL,IARS,qDAUTQ,QAAQC,IAAR,MAVS,0DAAJ,sDAoBb,OALA,gBAAU,WACNT,OAIG,CACHA,iBAAehB,cAAaS,c,qBC1ExC,MAAMoB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/about.7237fa03.js","sourcesContent":["<template>\r\n    <div class=\"container mt-5\">\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <table class=\"table table-dark table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                        <th scope=\"col\">Status</th>\r\n                        <th scope=\"col\">Fecha Inicio</th>\r\n                        <th scope=\"col\">Fecha Final</th>\r\n                        <th scope=\"col\">Disfraz</th>\r\n                        <th scope=\"col\">Cancelar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\"reserva in reservacion\" :key=\"reserva\">\r\n                        <td>{{reserva.status}}</td>\r\n                        <td>{{reserva.startDate.substr(0,15)}}</td>\r\n                        <td>{{reserva.devolutionDate.substr(0,15)}}</td>\r\n                        <td>{{reserva.costume.name}}</td>\r\n                        <td><button class=\"btn btn-danger\" @click=\"cancelar(reserva.idReservation)\">Cancelar</button> </td>\r\n                        </tr>    \r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref } from '@vue/runtime-core';\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n    name:'Reservas',    \r\n    setup() {\r\n\r\n\r\n        const store = useStore();\r\n        const reservacion = ref([]);\r\n\r\n        const usuario = store.state.usuario;\r\n        const url = store.state.url;\r\n\r\n        const cargarReservas= async () => {\r\n\r\n            try {\r\n                //console.log(usuario.usuario.idClient)\r\n                const res = await fetch(`${url}`+'/api/Client/'+usuario.usuario.idClient);\r\n                const datos = await res.json();\r\n                //console.log(datos.reservations[0].costume.name)\r\n                reservacion.value = datos.reservations;\r\n                \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n\r\n        const cancelar = async (id) => {\r\n            console.log(id)\r\n            try {\r\n                const res = await fetch(`${url}`+'/api/Reservation/'+id,{\r\n                    method:'DELETE'\r\n                });\r\n                const datos = await res.text(); \r\n                console.log(datos)\r\n                cargarReservas();   \r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            \r\n        }\r\n\r\n        onMounted(() => {\r\n            cargarReservas();\r\n        });\r\n\r\n\r\n        return {\r\n            cargarReservas,reservacion, cancelar\r\n        }\r\n\r\n        \r\n    },\r\n}\r\n</script>","import { render } from \"./Reservas.vue?vue&type=template&id=464f0eac\"\nimport script from \"./Reservas.vue?vue&type=script&lang=js\"\nexport * from \"./Reservas.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\Proyectos\\\\Practicas Web\\\\Vue\\\\mintic-disfraz\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}